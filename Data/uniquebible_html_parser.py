from bs4 import BeautifulSoup

'''
<verse><vid id="v23.66.24" onclick="luV(24)">24</vid>
     

<cl><div class="bhc"><div id="c47548.c47545" class="cdesc">
  <ref onclick="cl('47548')">°°°°°°°°°</ref>
     | 
  <ref onclick="cl('47548')"><clid>c47548</clid></ref>
     <connector>@</connector>
  <ref onclick="cl('47545')"><mclid>c47545</mclid></ref>
     | 
  <ckind>Verbal clauses,</ckind> 
  <ctyp>We-qatal-null clause</ctyp></div>

<div class="bhp"><div id="p137745" class="pdesc">
<ptyp>Conjunctive phrase</ptyp><br> 
<pfunction>Conjunction</pfunction></div>

<div class="bhw">
  <heb id="wh234975" class="ch47548 GE70008 H9000" onclick="luW(24,'234975','47548','70008','conj','H9000')" onmouseover="hl1('h234975','h47548','E70008')" onmouseout="hl0('h234975','h47548','E70008')" ondblclick="searchWord(1,234975)">וְ</heb><heb></heb><br>
    <hbint>and</hbint></div></div>

<div class="bhp"><div id="p137746" class="pdesc">
<ptyp>Verbal phrase</ptyp><br> 
<pfunction>Predicate</pfunction></div>

<div class="bhw">
  <heb id="wh234976" class="ch47548 GE70056 H3318" onclick="luW(24,'234976','47548','70056','verb.qal.perf.p3.u.pl','H3318')" onmouseover="hl1('h234976','h47548','E70056')" onmouseout="hl0('h234976','h47548','E70056')" ondblclick="searchWord(1,234976)">יָצְא֣וּ</heb><br>
    <hbint>[they]+ go out</hbint></div><heb> </heb></div></div></cl>

<cl><div class="bhc"><div id="c47549.c47548" class="cdesc">
  <ref onclick="cl('47549')">°°°°°°°°°°°</ref>
     | 
  <ref onclick="cl('47549')"><clid>c47549</clid></ref>
     <connector>@</connector>
  <ref onclick="cl('47548')"><mclid>c47548</mclid></ref>
     | 
  <ckind>Verbal clauses,</ckind> 
  <ctyp>We-qatal-null clause</ctyp></div>

<div class="bhp"><div id="p137747" class="pdesc">
<ptyp>Conjunctive phrase</ptyp><br> 
<pfunction>Conjunction</pfunction></div>

<div class="bhw">
  <heb id="wh234977" class="ch47549 GE70008 H9000" onclick="luW(24,'234977','47549','70008','conj','H9000')" onmouseover="hl1('h234977','h47549','E70008')" onmouseout="hl0('h234977','h47549','E70008')" ondblclick="searchWord(1,234977)">וְ</heb><heb></heb><br>
    <hbint>and</hbint></div></div>

<div class="bhp"><div id="p137748" class="pdesc">
<ptyp>Verbal phrase</ptyp><br> 
<pfunction>Predicate</pfunction></div>

<div class="bhw">
  <heb id="wh234978" class="ch47549 GE70022 H7200" onclick="luW(24,'234978','47549','70022','verb.qal.perf.p3.u.pl','H7200')" onmouseover="hl1('h234978','h47549','E70022')" onmouseout="hl0('h234978','h47549','E70022')" ondblclick="searchWord(1,234978)">רָא֔וּ</heb><br>
    <hbint>[they]+ see</hbint></div><heb> </heb></div>

<div class="bhp"><div id="p137749" class="pdesc">
<ptyp><det>Prepositional phrase</det></ptyp><br> 
<pfunction>Complement</pfunction></div>

<div class="bhw">
  <heb id="wh234979" class="ch47549 GE70001 H9003" onclick="luW(24,'234979','47549','70001','prep','H9003')" onmouseover="hl1('h234979','h47549','E70001')" onmouseout="hl0('h234979','h47549','E70001')" ondblclick="searchWord(1,234979)">בְּ</heb><heb></heb><br>
    <hbint>in</hbint></div>

<div class="bhw">
  <heb id="wh234980" class="ch47549 GE70763 H6297" onclick="luW(24,'234980','47549','70763','subs.m.pl.c','H6297')" onmouseover="hl1('h234980','h47549','E70763')" onmouseout="hl0('h234980','h47549','E70763')" ondblclick="searchWord(1,234980)">פִגְרֵי֙</heb><br>
    <hbint>corpse</hbint></div><heb> </heb>

<div class="bhw">
  <heb id="wh234981" class="ch47549 GE70006 H9009" onclick="luW(24,'234981','47549','70006','art','H9009')" onmouseover="hl1('h234981','h47549','E70006')" onmouseout="hl0('h234981','h47549','E70006')" ondblclick="searchWord(1,234981)">הָ</heb><heb></heb><br>
    <hbint>the</hbint></div>

<div class="bhw">
  <heb id="wh234982" class="ch47549 GE70186 H376" onclick="luW(24,'234982','47549','70186','subs.m.pl.a','H376')" onmouseover="hl1('h234982','h47549','E70186')" onmouseout="hl0('h234982','h47549','E70186')" ondblclick="searchWord(1,234982)">אֲנָשִׁ֔ים</heb><br>
    <hbint>man</hbint></div><heb> </heb></div></div></cl>

<cl><div class="bhc"><div id="c47550.c47549" class="cdesc">
  <ref onclick="cl('47550')">°°°°°°°°°°°°</ref>
     | 
  <ref onclick="cl('47550')"><clid>c47550</clid></ref>
     <connector>@</connector>
  <ref onclick="cl('47549')"><mclid>c47549</mclid></ref>
     | 
  <ckind>Verbal clauses,</ckind> 
  <ctyp>Participle clause,</ctyp> <crela>Attributive clause</crela></div>

<div class="bhp"><div id="p137750" class="pdesc">
<ptyp>Conjunctive phrase</ptyp><br> 
<pfunction>Relative</pfunction></div>

<div class="bhw">
  <heb id="wh234983" class="ch47550 GE70006 H9009" onclick="luW(24,'234983','47550','70006','conj','H9009')" onmouseover="hl1('h234983','h47550','E70006')" onmouseout="hl0('h234983','h47550','E70006')" ondblclick="searchWord(1,234983)">הַ</heb><heb></heb><br>
    <hbint>the</hbint></div></div>

<div class="bhp"><div id="p137751" class="pdesc">
<ptyp>Verbal phrase</ptyp><br> 
<pfunction>Predicate complement</pfunction></div>

<div class="bhw">
  <heb id="wh234984" class="ch47550 GE74750 H6586" onclick="luW(24,'234984','47550','74750','verb.qal.ptca.u.m.pl.a','H6586')" onmouseover="hl1('h234984','h47550','E74750')" onmouseout="hl0('h234984','h47550','E74750')" ondblclick="searchWord(1,234984)">פֹּשְׁעִ֖ים</heb><br>
    <hbint>rebel</hbint></div><heb> </heb></div>

<div class="bhp"><div id="p137752" class="pdesc">
<ptyp><det>Prepositional phrase</det></ptyp><br> 
<pfunction>Complement</pfunction></div>

<div class="bhw">
  <heb id="wh234985" class="ch47550 GE70001 H9003" onclick="luW(24,'234985','47550','70001','prep.prs.p1.u.sg','H9003')" onmouseover="hl1('h234985','h47550','E70001')" onmouseout="hl0('h234985','h47550','E70001')" ondblclick="searchWord(1,234985)">בִּ֑י</heb><br>
    <hbint>in +[me]</hbint></div><heb> </heb></div></div></cl>

<cl><div class="bhc"><div id="c47551.c47548" class="cdesc">
  <ref onclick="cl('47551')">°°°°°°°°°°</ref>
     | 
  <ref onclick="cl('47551')"><clid>c47551</clid></ref>
     <connector>@</connector>
  <ref onclick="cl('47548')"><mclid>c47548</mclid></ref>
     | 
  <ckind>Verbal clauses,</ckind> 
  <ctyp>X-yiqtol clause</ctyp></div>

<div class="bhp"><div id="p137753" class="pdesc">
<ptyp>Conjunctive phrase</ptyp><br> 
<pfunction>Conjunction</pfunction></div>

<div class="bhw">
  <heb id="wh234986" class="ch47551 GE70023 H3588" onclick="luW(24,'234986','47551','70023','conj','H3588')" onmouseover="hl1('h234986','h47551','E70023')" onmouseout="hl0('h234986','h47551','E70023')" ondblclick="searchWord(1,234986)">כִּ֣י</heb><br>
    <hbint>that</hbint></div><heb> </heb></div>

<div class="bhp"><div id="p137754" class="pdesc">
<ptyp><det>Nominal phrase</det></ptyp><br> 
<pfunction>Subject</pfunction></div>

<div class="bhw">
  <heb id="wh234987" class="ch47551 GE72221 H8438" onclick="luW(24,'234987','47551','72221','subs.f.sg.a.prs.p3.m.pl','H8438')" onmouseover="hl1('h234987','h47551','E72221')" onmouseout="hl0('h234987','h47551','E72221')" ondblclick="searchWord(1,234987)">תֹולַעְתָּ֞ם</heb><br>
    <hbint>+[their] worm</hbint></div><heb> </heb></div>

<div class="bhp"><div id="p137755" class="pdesc">
<ptyp>Negative phrase</ptyp><br> 
<pfunction>Negation</pfunction></div>

<div class="bhw">
  <heb id="wh234988" class="ch47551 GE70118 H3808" onclick="luW(24,'234988','47551','70118','nega','H3808')" onmouseover="hl1('h234988','h47551','E70118')" onmouseout="hl0('h234988','h47551','E70118')" ondblclick="searchWord(1,234988)">לֹ֣א</heb><br>
    <hbint>not</hbint></div><heb> </heb></div>

<div class="bhp"><div id="p137756" class="pdesc">
<ptyp>Verbal phrase</ptyp><br> 
<pfunction>Predicate</pfunction></div>

<div class="bhw">
  <heb id="wh234989" class="ch47551 GE70168 H4191" onclick="luW(24,'234989','47551','70168','verb.qal.impf.p3.f.sg','H4191')" onmouseover="hl1('h234989','h47551','E70168')" onmouseout="hl0('h234989','h47551','E70168')" ondblclick="searchWord(1,234989)">תָמ֗וּת</heb><br>
    <hbint>[she]+ die</hbint></div><heb> </heb></div></div></cl>

<cl><div class="bhc"><div id="c47552.c47551" class="cdesc">
  <ref onclick="cl('47552')">°°°°°°°°°°°°</ref>
     | 
  <ref onclick="cl('47552')"><clid>c47552</clid></ref>
     <connector>@</connector>
  <ref onclick="cl('47551')"><mclid>c47551</mclid></ref>
     | 
  <ckind>Verbal clauses,</ckind> 
  <ctyp>We-X-yiqtol clause</ctyp></div>

<div class="bhp"><div id="p137757" class="pdesc">
<ptyp>Conjunctive phrase</ptyp><br> 
<pfunction>Conjunction</pfunction></div>

<div class="bhw">
  <heb id="wh234990" class="ch47552 GE70008 H9000" onclick="luW(24,'234990','47552','70008','conj','H9000')" onmouseover="hl1('h234990','h47552','E70008')" onmouseout="hl0('h234990','h47552','E70008')" ondblclick="searchWord(1,234990)">וְ</heb><heb></heb><br>
    <hbint>and</hbint></div></div>

<div class="bhp"><div id="p137758" class="pdesc">
<ptyp><det>Nominal phrase</det></ptyp><br> 
<pfunction>Subject</pfunction></div>

<div class="bhw">
  <heb id="wh234991" class="ch47552 GE70780 H784" onclick="luW(24,'234991','47552','70780','subs.u.sg.a.prs.p3.m.pl','H784')" onmouseover="hl1('h234991','h47552','E70780')" onmouseout="hl0('h234991','h47552','E70780')" ondblclick="searchWord(1,234991)">אִשָּׁם֙</heb><br>
    <hbint>+[their] fire</hbint></div><heb> </heb></div>

<div class="bhp"><div id="p137759" class="pdesc">
<ptyp>Negative phrase</ptyp><br> 
<pfunction>Negation</pfunction></div>

<div class="bhw">
  <heb id="wh234992" class="ch47552 GE70118 H3808" onclick="luW(24,'234992','47552','70118','nega','H3808')" onmouseover="hl1('h234992','h47552','E70118')" onmouseout="hl0('h234992','h47552','E70118')" ondblclick="searchWord(1,234992)">לֹ֣א</heb><br>
    <hbint>not</hbint></div><heb> </heb></div>

<div class="bhp"><div id="p137760" class="pdesc">
<ptyp>Verbal phrase</ptyp><br> 
<pfunction>Predicate</pfunction></div>

<div class="bhw">
  <heb id="wh234993" class="ch47552 GE72495 H3518" onclick="luW(24,'234993','47552','72495','verb.qal.impf.p3.f.sg','H3518')" onmouseover="hl1('h234993','h47552','E72495')" onmouseout="hl0('h234993','h47552','E72495')" ondblclick="searchWord(1,234993)">תִכְבֶּ֔ה</heb><br>
    <hbint>[she]+ go out</hbint></div><heb> </heb></div></div></cl>

<cl><div class="bhc"><div id="c47553.c47551" class="cdesc">
  <ref onclick="cl('47553')">°°°°°°°°°°°</ref>
     | 
  <ref onclick="cl('47553')"><clid>c47553</clid></ref>
     <connector>@</connector>
  <ref onclick="cl('47551')"><mclid>c47551</mclid></ref>
     | 
  <ckind>Verbal clauses,</ckind> 
  <ctyp>We-qatal-null clause</ctyp></div>

<div class="bhp"><div id="p137761" class="pdesc">
<ptyp>Conjunctive phrase</ptyp><br> 
<pfunction>Conjunction</pfunction></div>

<div class="bhw">
  <heb id="wh234994" class="ch47553 GE70008 H9000" onclick="luW(24,'234994','47553','70008','conj','H9000')" onmouseover="hl1('h234994','h47553','E70008')" onmouseout="hl0('h234994','h47553','E70008')" ondblclick="searchWord(1,234994)">וְ</heb><heb></heb><br>
    <hbint>and</hbint></div></div>

<div class="bhp"><div id="p137762" class="pdesc">
<ptyp>Verbal phrase</ptyp><br> 
<pfunction>Predicate</pfunction></div>

<div class="bhw">
  <heb id="wh234995" class="ch47553 GE70010 H1961" onclick="luW(24,'234995','47553','70010','verb.qal.perf.p3.u.pl','H1961')" onmouseover="hl1('h234995','h47553','E70010')" onmouseout="hl0('h234995','h47553','E70010')" ondblclick="searchWord(1,234995)">הָי֥וּ</heb><br>
    <hbint>[they]+ be</hbint></div><heb> </heb></div>

<div class="bhp"><div id="p137763" class="pdesc">
<ptyp><undet>Nominal phrase</undet></ptyp><br> 
<pfunction>Predicate complement</pfunction></div>

<div class="bhw">
  <heb id="wh234996" class="ch47553 GE75855 H1860" onclick="luW(24,'234996','47553','75855','subs.m.sg.a','H1860')" onmouseover="hl1('h234996','h47553','E75855')" onmouseout="hl0('h234996','h47553','E75855')" ondblclick="searchWord(1,234996)">דֵרָאֹ֖ון</heb><br>
    <hbint>abhorrence</hbint></div><heb> </heb></div>

<div class="bhp"><div id="p137764" class="pdesc">
<ptyp><undet>Prepositional phrase</undet></ptyp><br> 
<pfunction>Adjunct</pfunction></div>

<div class="bhw">
  <heb id="wh234997" class="ch47553 GE70028 H9005" onclick="luW(24,'234997','47553','70028','prep','H9005')" onmouseover="hl1('h234997','h47553','E70028')" onmouseout="hl0('h234997','h47553','E70028')" ondblclick="searchWord(1,234997)">לְ</heb><heb></heb><br>
    <hbint>to</hbint></div>

<div class="bhw">
  <heb id="wh234998" class="ch47553 GE70078 H3605" onclick="luW(24,'234998','47553','70078','subs.m.sg.c','H3605')" onmouseover="hl1('h234998','h47553','E70078')" onmouseout="hl0('h234998','h47553','E70078')" ondblclick="searchWord(1,234998)">כָל</heb><heb>־</heb><br>
    <hbint>whole</hbint></div>

<div class="bhw">
  <heb id="wh234999" class="ch47553 GE70180 H1320" onclick="luW(24,'234999','47553','70180','subs.m.sg.a','H1320')" onmouseover="hl1('h234999','h47553','E70180')" onmouseout="hl0('h234999','h47553','E70180')" ondblclick="searchWord(1,234999)">בָּשָֽׂר</heb><heb>׃ </heb><br>
    <hbint>flesh</hbint></div></div></div></cl></verse>



<verse>
	<vid id="v66.22.1" onclick="luV(1)">1</vid>
	<cl>
		<div class='c'><sup><cllevel>°</cllevel> <b><clinfo>22:1.w1-w18</clinfo></b></sup><br>
			<wg><div class='p'>
				<wg><div class='p'><subclinfo>22:1.w1</subclinfo></b><br><funcinfo>conjunction</funcinfo></div></wg> 
				<div class='wrap'>
					<w><div class='w'><wordid>w1</wordid><br><funcinfo>head</funcinfo><br><grk id="w137562" cl='c26546' sn='G2532' morph='CONJ' class="G2532" onclick="luW(1,'137562','26546','2532','CONJ')" onmouseover="hl1('137562','26546','2532')" onmouseout="hl0('137562','26546','2532')" ondblclick="searchWord(2,137562)">Καὶ</grk><br><gloss>And</gloss></div></w>
				</div>
			</div></wg>
			<wg><div class='p'>
				<wg><div class='p'><subclinfo>22:1.w2</subclinfo></b><br><funcinfo>predicator</funcinfo></div></wg> 
				<div class='wrap'>
					<w><div class='w'><wordid>w2</wordid><br><funcinfo>head</funcinfo><br><grk id="w137563" cl='c26546' sn='G1166' morph='V-AAI-3S' class="G1166" onclick="luW(1,'137563','26546','1166','V-AAI-3S')" onmouseover="hl1('137563','26546','1166')" onmouseout="hl0('137563','26546','1166')" ondblclick="searchWord(2,137563)">ἔδειξέν</grk><br><gloss>he showed</gloss></div></w>
				</div>
			</div></wg>
			<wg><div class='p'>
				<wg><div class='p'><subclinfo>22:1.w3</subclinfo></b><br><funcinfo>complement</funcinfo></div></wg> 
				<div class='wrap'>
					<w><div class='w'><wordid>w3</wordid><br><funcinfo>head</funcinfo><br><grk id="w137564" cl='c26546' sn='G1473' morph='P-1DS' class="G1473" onclick="luW(1,'137564','26546','1473','P-1DS')" onmouseover="hl1('137564','26546','1473')" onmouseout="hl0('137564','26546','1473')" ondblclick="searchWord(2,137564)">μοι</grk><br><gloss>me</gloss></div></w>
				</div>
			</div></wg>
			<wg><div class='p'>
				<wg><div class='p'><subclinfo>22:1.w4-w18</subclinfo></b><br><funcinfo>complement</funcinfo></div></wg> 
					<div class='wrap'>
						<w><div class='w'><wordid>w4</wordid><br><funcinfo>head</funcinfo><br><grk id="w137565" cl='c26546' sn='G4215' morph='N-ASM' class="G4215" onclick="luW(1,'137565','26546','4215','N-ASM')" onmouseover="hl1('137565','26546','4215')" onmouseout="hl0('137565','26546','4215')" ondblclick="searchWord(2,137565)">ποταμὸν</grk><br><gloss>a river</gloss></div></w>
					</div>
				<wg><div class='p'>
					<wg><div class='p'><subclinfo>22:1.w5-w6</subclinfo></b><br><funcinfo>qualifier</funcinfo></div></wg> 
					<div class='wrap'>
						<w><div class='w'><wordid>w5</wordid><br><funcinfo>head</funcinfo><br><grk id="w137566" cl='c26546' sn='G5204' morph='N-GSN' class="G5204" onclick="luW(1,'137566','26546','5204','N-GSN')" onmouseover="hl1('137566','26546','5204')" onmouseout="hl0('137566','26546','5204')" ondblclick="searchWord(2,137566)">ὕδατος</grk><br><gloss>of water</gloss></div></w>
						<w><div class='w'><wordid>w6</wordid><br><funcinfo>qualifier</funcinfo><br><grk id="w137567" cl='c26546' sn='G2222' morph='N-GSF' class="G2222" onclick="luW(1,'137567','26546','2222','N-GSF')" onmouseover="hl1('137567','26546','2222')" onmouseout="hl0('137567','26546','2222')" ondblclick="searchWord(2,137567)">ζωῆς</grk><br><gloss>of life,</gloss></div></w>
					</div>
				</div></wg>
				<wg><div class='p'>
					<wg><div class='p'><subclinfo>22:1.w7-w18</subclinfo></b><br><funcinfo>definer</funcinfo></div></wg>
					<wg><div class='p'>
						<wg><div class='p'><subclinfo>22:1.w7-w9</subclinfo></b></div></wg> 
						<div class='wrap'>
							<w><div class='w'><wordid>w7</wordid><br><funcinfo>head</funcinfo><br><grk id="w137568" cl='c26546' sn='G2986' morph='A-ASM' class="G2986" onclick="luW(1,'137568','26546','2986','A-ASM')" onmouseover="hl1('137568','26546','2986')" onmouseout="hl0('137568','26546','2986')" ondblclick="searchWord(2,137568)">λαμπρὸν</grk><br><gloss>clear</gloss></div></w>
						</div>
						<wg><div class='p'>
							<wg><div class='p'><subclinfo>22:1.w8-w9</subclinfo></b><br><funcinfo>relator</funcinfo></div></wg> 
							<div class='wrap'>
								<w><div class='w'><wordid>w8</wordid><br><funcinfo>specifier</funcinfo><br><grk id="w137569" cl='c26546' sn='G5613' morph='CONJ' class="G5613" onclick="luW(1,'137569','26546','5613','CONJ')" onmouseover="hl1('137569','26546','5613')" onmouseout="hl0('137569','26546','5613')" ondblclick="searchWord(2,137569)">ὡς</grk><br><gloss>as</gloss></div></w>
								<w><div class='w'><wordid>w9</wordid><br><funcinfo>head</funcinfo><br><grk id="w137570" cl='c26546' sn='G2930' morph='N-ASM' class="G2930" onclick="luW(1,'137570','26546','2930','N-ASM')" onmouseover="hl1('137570','26546','2930')" onmouseout="hl0('137570','26546','2930')" ondblclick="searchWord(2,137570)">κρύσταλλον</grk><br><gloss>crystal,</gloss></div></w>
							</div>
						</div></wg>
					</div></wg>
					<cl>
						<div class='c'><sup><cllevel>°</cllevel> <b><clinfo>22:1.w10-w18</clinfo></b></sup><br>
							<wg><div class='p'>
								<wg><div class='p'><subclinfo>22:1.w10</subclinfo></b><br><funcinfo>predicator</funcinfo></div></wg> 
								<div class='wrap'>
									<w><div class='w'><wordid>w10</wordid><br><funcinfo>head</funcinfo><br><grk id="w137571" cl='c26547' sn='G1607' morph='V-PNP-ASM' class="G1607" onclick="luW(1,'137571','26547','1607','V-PNP-ASM')" onmouseover="hl1('137571','26547','1607')" onmouseout="hl0('137571','26547','1607')" ondblclick="searchWord(2,137571)">ἐκπορευόμενον</grk><br><gloss>flowing</gloss></div></w></div>
								</div>
							</wg>
							<wg><div class='p'>
								<wg><div class='p'><subclinfo>22:1.w11-w18</subclinfo></b><br><funcinfo>adjunct</funcinfo></div></wg> 
								<div class='wrap'>
									<w><div class='w'><wordid>w11</wordid><br><funcinfo>specifier</funcinfo><br><grk id="w137572" cl='c26547' sn='G1537' morph='PREP' class="G1537" onclick="luW(1,'137572','26547','1537','PREP')" onmouseover="hl1('137572','26547','1537')" onmouseout="hl0('137572','26547','1537')" ondblclick="searchWord(2,137572)">ἐκ</grk><br><gloss>out of</gloss></div></w>
									<w><div class='w'><wordid>w12</wordid><br><funcinfo>specifier</funcinfo><br><grk id="w137573" cl='c26547' sn='G3588' morph='T-GSM' class="G3588" onclick="luW(1,'137573','26547','3588','T-GSM')" onmouseover="hl1('137573','26547','3588')" onmouseout="hl0('137573','26547','3588')" ondblclick="searchWord(2,137573)">τοῦ</grk><br><gloss>the</gloss></div></w>
									<w><div class='w'><wordid>w13</wordid><br><funcinfo>head</funcinfo><br><grk id="w137574" cl='c26547' sn='G2362' morph='N-GSM' class="G2362" onclick="luW(1,'137574','26547','2362','N-GSM')" onmouseover="hl1('137574','26547','2362')" onmouseout="hl0('137574','26547','2362')" ondblclick="searchWord(2,137574)">θρόνου</grk><br><gloss>throne</gloss></div></w>
								</div>
								<wg><div class='p'>
									<wg><div class='p'><subclinfo>22:1.w14-w18</subclinfo></b><br><funcinfo>qualifier</funcinfo></div></wg>
									<wg><div class='p'>
										<wg><div class='p'><subclinfo>22:1.w14-w15</subclinfo></b></div></wg> 
										<div class='wrap'>
											<w><div class='w'><wordid>w14</wordid><br><funcinfo>specifier</funcinfo><br><grk id="w137575" cl='c26547' sn='G3588' morph='T-GSM' class="G3588" onclick="luW(1,'137575','26547','3588','T-GSM')" onmouseover="hl1('137575','26547','3588')" onmouseout="hl0('137575','26547','3588')" ondblclick="searchWord(2,137575)">τοῦ</grk><br><gloss>-</gloss></div></w>
											<w><div class='w'><wordid>w15</wordid><br><funcinfo>head</funcinfo><br><grk id="w137576" cl='c26547' sn='G2316' morph='N-GSM' class="G2316" onclick="luW(1,'137576','26547','2316','N-GSM')" onmouseover="hl1('137576','26547','2316')" onmouseout="hl0('137576','26547','2316')" ondblclick="searchWord(2,137576)">Θεοῦ</grk><br><gloss>of God</gloss></div></w></div>
										</div>
									</wg>
									<wg><div class='p'>
										<wg><div class='p'><subclinfo>22:1.w16-w18</subclinfo></b></div></wg> 
										<div class='wrap'>
											<w><div class='w'><wordid>w16</wordid><br><funcinfo>connector</funcinfo><br><grk id="w137577" cl='c26547' sn='G2532' morph='CONJ' class="G2532" onclick="luW(1,'137577','26547','2532','CONJ')" onmouseover="hl1('137577','26547','2532')" onmouseout="hl0('137577','26547','2532')" ondblclick="searchWord(2,137577)">καὶ</grk><br><gloss>and</gloss></div></w>
											<w><div class='w'><wordid>w17</wordid><br><funcinfo>specifier</funcinfo><br><grk id="w137578" cl='c26547' sn='G3588' morph='T-GSN' class="G3588" onclick="luW(1,'137578','26547','3588','T-GSN')" onmouseover="hl1('137578','26547','3588')" onmouseout="hl0('137578','26547','3588')" ondblclick="searchWord(2,137578)">τοῦ</grk><br><gloss>of the</gloss></div></w>
											<w><div class='w'><wordid>w18</wordid><br><funcinfo>head</funcinfo><br><grk id="w137579" cl='c26547' sn='G721' morph='N-GSN' class="G721" onclick="luW(1,'137579','26547','721','N-GSN')" onmouseover="hl1('137579','26547','721')" onmouseout="hl0('137579','26547','721')" ondblclick="searchWord(2,137579)">Ἀρνίου</grk><br><gloss>Lamb.</gloss></div></w>
										</div>
									</div></wg>
								</div></wg>
							</div></wg>
						</div>
					</cl>
				</div></wg>
			</div></wg>
		</div>
	</cl>
</verse>
'''

def get_c(c):
	cl_infos = c.find_all('clinfo')
	cl_info_text_1 = cl_infos[0].get_text()
	cl_info_text_2 = ""
	if len(cl_infos) == 2:
		cl_info_text_2 = cl_infos[1].get_text()
	ps = c.find('div', class_='p')
	for p in ps:
		pps = p.find_all('div', class_='p')
		for pp in pps:
			subcl_info = pp.find('subclinfo')
			subcl_function = pp.find('funcinfo')
			wraps = pp.find_all('div', class_='wrap')
			for wrap in wraps:
				ws = wrap.find_all('div', class_='w')
				for w in ws:
					wordid = w.find('wordid').get_text()
					word_function = w.find('funcinfo').get_text()
					onclick_grk = w.find('grk')['onclick']
					onclick_parts_grk = onclick_grk.split(',')[1:5]
					greek = w.find('grk').get_text()
					gloss_greek = w.find('gloss').get_text()

					yield cl_info_text_1, cl_info_text_2, subcl_info, subcl_function, wordid, word_function, onclick_parts_grk[1], onclick_parts_grk[2], onclick_parts_grk[3], onclick_parts_grk[4], greek, gloss_greek

def write_hebrew(fout, verse_id, bhc_id, connector1, connector2, ckind, ctyp, bhpid, ptyp, pfunction, word_id, heb_id, clause_id, extended_strongs, morph, strongs, hebrew, gloss_hebrew):
	fout.write(f"{verse_id}^{bhc_id}^{connector1}^{connector2}^{ckind}^{ctyp}^{bhpid}^{pfunction}^{word_id}^{heb_id}^{clause_id}^{extended_strongs}^{morph}^{strongs}^{hebrew}^{gloss_hebrew}\n")

def print_hebrew(verse_id, bhc_id, connector1, connector2, ckind, ctyp, bhpid, ptyp, pfunction, word_id, heb_id, clause_id, extended_strongs, morph, strongs, hebrew, gloss_hebrew):
	print("Verse ID:", verse_id)
	print("BHC ID:", bhc_id)
	print("Connector 1:", connector1)
	print("Connector 2:", connector2)
	print("Clause Kind:", ckind)
	print("Clause Type:", ctyp)
	print("BHP ID:", bhpid)
	print("Phrase Type:", ptyp)
	print("Phrase Function:", pfunction)
	print("Word ID:", word_id)
	print("Hebrew ID:", heb_id)
	print("Clause ID:", clause_id)
	print("Extended Strongs:", extended_strongs)
	print("Morphology:", morph)
	print("Strongs:", strongs)
	print("Hebrew:", hebrew)
	print("Gloss:", gloss_hebrew)
	print()

def write_greek(fout, verse_id, cl_info_text_1, cl_info_text_2, subcl_info, subcl_function, word_id, word_function, grk_id, clause_id, strongs, morph, greek, gloss_greek):
	fout.write(f"{verse_id}^{cl_info_text_1}^{cl_info_text_2}^{subcl_info}^{subcl_function}^{word_id}^{word_function}^{grk_id}^{clause_id}^{strongs}^{morph}^{greek}^{gloss_greek}\n")

def print_greek(verse_id, cl_info_text_1, cl_info_text_2, subcl_info, subcl_function, word_id, word_function, grk_id, clause_id, strongs, morph, greek, gloss_greek):
	print("Verse ID:", verse_id)
	print("Clause ID:", cl_info_text_1)
	print("Connected Clause ID:", cl_info_text_2)
	print("Subclause ID:", subcl_info)
	print("Subclause Function:", subcl_function)
	print("Word ID:", word_id)
	print("Word Function:", word_function)
	print("Greek ID:", grk_id)
	print("Clause ID:", clause_id)
	print("Strongs:", strongs)
	print("Morphology:", morph)
	print("Greek Text:", greek)
	print("Gloss:", gloss_greek)
	print()


with open("UniqueBible-MAB.csv", 'r') as fin, open("MAB-OT.csv", 'w') as fout_heb, open("MAB-NT.csv", 'w') as fout_grk:
	fin.readline() #skip header
	fout_heb.write("verse_id^bhc_id^connector1^connector2^ckind^ctyp^bhpid^pfunction^word_id^heb_id^clause_id^extended_strongs^morph^strongs^hebrew^gloss_hebrew\n")
	fout_grk.write("verse_id^cl_info_text_1^cl_info_text_2^subcl_info^subcl_function^word_id^word_function^grk_id^clause_id^strongs^morph^greek^gloss_greek\n")
	
	for lin in fin:
		html = lin.split('^')[2]
		soup = BeautifulSoup(html, 'html.parser')
		verses = soup.find_all("verse")

		for verse in verses:
			vidid = verse.find('vid')["id"]

			bhcs = verse.find_all('div', class_='bhc')

			for bhc in bhcs:
				bhcid = bhc.find('div')['id'] # <div id=... ...>
				connector1 = bhc.find('clid').get_text()
				connector2 = bhc.find('mclid')
				if connector2 != None:
					connector2 = connector2.get_text()
				ckind = bhc.find('ckind').get_text()
				ctyp = bhc.find('ctyp').get_text()

				bhps = bhc.find_all('div', class_="bhp")

				for bhp in bhps:
					bhpid = bhp.find('div')['id']
					ptyp = bhp.find('ptyp').get_text()
					pfunction = bhp.find('pfunction').get_text()

					bhws = bhp.find_all('div', class_='bhw')  # <div class="bhw">

					for bhw in bhws:
						wordid = bhw.find('heb')['id']  # <heb id="wh234993" ...
						onclick_heb = bhw.find('heb')['onclick']  # <heb ... onclick=... ...>
						onclick_parts_heb = onclick_heb.split(',')
						hebrew = bhw.find('heb').get_text()
						gloss_hebrew = bhw.find('hbint').get_text()

						#print_hebrew(vidid, bhcid, connector1, connector2, ckind, ctyp, bhpid, ptyp, pfunction, wordid, onclick_parts_heb[1].strip(')').strip("'"), onclick_parts_heb[2].strip(')').strip("'"), onclick_parts_heb[3].strip(')').strip("'"), onclick_parts_heb[4].strip(')').strip("'"), onclick_parts_heb[5].strip(')').strip("'"), hebrew, gloss_hebrew)
						write_hebrew(fout_heb, vidid, bhcid, connector1, connector2, ckind, ctyp, bhpid, ptyp, pfunction, wordid, onclick_parts_heb[1].strip(')').strip("'"), onclick_parts_heb[2].strip(')').strip("'"), onclick_parts_heb[3].strip(')').strip("'"), onclick_parts_heb[4].strip(')').strip("'"), onclick_parts_heb[5].strip(')').strip("'"), hebrew, gloss_hebrew)
						input()

			cs = verse.find_all('div', class_='c')
			for c in cs:
				cl_info_text_1, cl_info_text_2, subcl_info, subcl_function, wordid, word_function, greek_id, clause_id, strongs, morph, greek, gloss_greek = get_c(c)
				print_greek(vidid, cl_info_text_1, cl_info_text_2, subcl_info, subcl_function, wordid, word_function, greek_id, clause_id, strongs, morph, greek, gloss_greek)
				write_greek(fout_grk, vidid, cl_info_text_1, cl_info_text_2, subcl_info, subcl_function, wordid, word_function, greek_id, clause_id, strongs, morph, greek, gloss_greek)
				input()